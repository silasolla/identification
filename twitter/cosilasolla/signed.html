<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta http-equiv="CONTENT-TYPE" content="text/html; charset=utf-8" />
		<title>Masaki Haga の署名</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
	</head>
	<body>
		<div class="frame">
			<p>なりすまし防止のための PGP 署名です．</p>
			<p>Keybase で<a class="link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover" href="https://keybase.io/verify" target="_brank">ブラウザ</a>から検証するか，Masaki Haga (silasolla) の<a class="link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover" href="../../key.html">公開鍵</a>をコンピュータに取り込んで検証できます．</p>
			<textarea id="signature" readonly>なうろーでぃんぐ</textarea>
			<button id="copyButton" class="btn btn-primary">こぴ</button>
		</div>
		<style>
			.frame {
				margin: 10px;
			}
			#signature {
				height: 50vh;
				width: 100%;
				box-sizing: border-box;
			}
		</style>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
		<script>
			const textUrl = './signed.txt';
			const textarea = document.getElementById('signature');
			const copyButton = document.getElementById('copyButton');

			fetch(textUrl).then(response => {
				if (! response.ok) {
					throw new Error('Network response was not ok');
				}
				return response.text();
			}).then(data => {
				textarea.value = data;
			}).catch(error => {
				console.error('Error fetching the text file:', error);
				textarea.value = 'テキストファイルの読み込みに失敗';
			});

			copyButton.addEventListener('click', () => {
				navigator.clipboard.writeText(textarea.value)
					.then(() => {
						alert('こぴしました');
					}).catch(error => {
						console.error('コピーに失敗: ', error);
						alert('コピーに失敗');
					});
			});
		</script>
	</body>
</html>
